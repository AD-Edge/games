(()=>{"use strict";var t,l,e,i,n,s,o,h,u,a,r,d,F,v=null,c=null,w=960,E=540,g=1,f=52,p=0,R=0,T=0,y=0,A=Math.floor(f/4),C=(el=(t=>{let l=0;for(let e=0;e<t.length;++e)l^=t.charCodeAt(e)<<e%4*8;return l>>>0})(Date.now().toString()),new Uint32Array([Math.imul(el,2246822507),Math.imul(el,3266489909)])),S=[2,3,4,5,6,7,8,9,10,"J","Q","K","A","13"],D=["CLB","DMD","HRT","SPD"],x=[{x:.26,y:.8},{x:.36,y:.8},{x:.46,y:.8},{x:.56,y:.8},{x:.66,y:.8}],O=[{x:.52,y:-.07},{x:.59,y:-.07},{x:.66,y:-.07},{x:.73,y:-.07},{x:.8,y:-.07}],m=[{x:.27,y:.55},{x:.37,y:.55},{x:.47,y:.55},{x:.57,y:.55},{x:.67,y:.55}],I=[{x:.27,y:.33},{x:.37,y:.33},{x:.47,y:.33},{x:.57,y:.33},{x:.67,y:.33}];let N={x:.882,y:.428},k={x:.057,y:.4};var H=[],P=[],L=[],b=[],B=[],U=[],M=[],X=[],G="#fbf5ef",Y="#c69fa5",K="#8b6d9c",_="#494d7e",W="#272744",J="#c44",V="#1a1a38";let Z=document.createElement("canvas").getContext("2d");var q=[],Q=[],j=[],z=[],$=[],tt=[],lt=[],et=[],it=[],nt=[],st=[],ot=new Image;let ht={LD:"LD",T:"T",O:"O",C:"C",GM:"GM",ER:"ER",R:"R"},ut="PRE",at="I",rt="D",dt="P",Ft="N",vt="PO",ct="END",wt="R";var Et,gt,ft,pt,Rt=ht.LD,Tt=!0,yt=!0,At=!0,Ct=!0,St=!1,Dt=!1,xt=!1,Ot=!1,mt=!1,It=!1,Nt=!1,kt=!1,Ht=[],Pt=1,Lt=2,bt=5,Bt=1,Ut=4,Mt=0,Xt=0,Gt=200,Yt=1,Kt=1,_t=0,Wt=.5,Jt=4,Vt=!1,Zt=!1,qt=!0,Qt=0,jt=0,zt=!1,$t=[],tl=document.createElement("canvas"),ll=(tl.height=E,tl.width=w,tl.getContext("webgl2")),el=ll.createBuffer(),il=(ll.bindBuffer(ll.ARRAY_BUFFER,el),ll.bufferData(ll.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,-1,1,1]),ll.STATIC_DRAW),ll.createShader(ll.VERTEX_SHADER)),nl=(ll.shaderSource(il,"\nattribute vec2 c;\nvarying vec2 u;\nvoid main(void) {\nu=c*0.5+0.5;\nu.y=1.0-u.y;\ngl_Position=vec4(c,0.5,1.0);\n}"),ll.compileShader(il),ll.createShader(ll.FRAGMENT_SHADER)),sl=(ll.shaderSource(nl,"\nprecision highp float;\nvarying vec2 u;\nuniform sampler2D t;\nvec3 vignetteColor = vec3(0.16, 0.16, 0.34); \nvoid main(void) {\nvec2 a=u;\na.x+=sin(u.x*6.28)*0.02;\na.y+=sin(u.y*6.28)*0.02;\nvec4 c=texture2D(t,a);\nc.r=texture2D(t,a+vec2(0.002,0.0)).r;\nc.b=texture2D(t,a-vec2(0.002,0.0)).b;\nvec2 d=abs(2.0*u-1.0);\nfloat v=1.0-pow(d.x,20.0)-pow(d.y,20.0);\nfloat l=1.0-pow(d.x,4.0)-pow(d.y,4.0);\nvec3 vignetteEffect = mix(c.rgb, vignetteColor, 1.0 - v); \nc.rgb = (0.8 + 0.6 * l) * vignetteEffect * step(0.4, v) * (0.8 + 0.3 * abs(sin(a.y * 2.14 * 180.0)));\nc.a = 0.8;\ngl_FragColor=c;\n        }"),ll.compileShader(nl),ll.createProgram());ll.attachShader(sl,il),ll.attachShader(sl,nl),ll.linkProgram(sl),ll.useProgram(sl),ll.bindBuffer(ll.ARRAY_BUFFER,el),ll.vertexAttribPointer(0,2,ll.FLOAT,!1,0,0),ll.enableVertexAttribArray(0),il=ll.createTexture(),ll.bindTexture(ll.TEXTURE_2D,il),ll.texParameteri(ll.TEXTURE_2D,ll.TEXTURE_MIN_FILTER,ll.LINEAR);let ol=new AudioContext,hl=(t=1,l=.05,e=220,i=0,n=0,s=.1,o=0,h=1,u=0,a=0,r=0,d=0,F=0,v=0,c=0,w=0,E=0,g=1,f=0,p=0,R=0)=>{let T=Math,y=2*T.PI,A=44100,C=u*=500*y/A/A,S=e*=(1-l+2*l*T.random(l=[]))*y/A,D=0,x=0,O=0,m=1,I=0,N=0,k=0,H=R<0?-1:1,P=y*H*R*2/A,L=T.cos(P),b=T.sin,B=b(P)/4,U=1+B,M=-2*L/U,X=(1-B)/U,G=(1+H*L)/2/U,Y=-(H+L)/U,K=G,_=0,W=0,J=0,V=0;for(a*=500*y/A**3,c*=y/A,r*=y/A,d*=A,F=A*F|0,t*=.3,H=(i=A*i+9)+(f*=A)+(n*=A)+(s*=A)+(E*=A)|0;O<H;l[O++]=k*t)++N%(100*w|0)||(k=o?1<o?2<o?3<o?b(D**3):T.max(T.min(T.tan(D),1),-1):1-(2*D/y%2+2)%2:1-4*T.abs(T.round(D/y)-D/y):b(D),k=(F?1-p+p*b(y*O/F):1)*(k<0?-1:1)*T.abs(k)**h*(O<i?O/i:O<i+f?1-(O-i)/f*(1-g):O<i+f+n?g:O<H-E?(H-O-E)/s*g:0),k=E?k/2+(E>O?0:(O<H-E?1:(H-O)/E)*l[O-E|0]/2/t):k,R&&(k=V=K*_+Y*(_=W)+G*(W=k)-X*J-M*(J=V))),P=(e+=u+=a)*T.cos(c*x++),D+=P+P*v*b(O**5),m&&++m>d&&(e+=r,S+=r,m=0),!F||++I%F||(e=S,u=C,m=m||1);(t=ol.createBuffer(1,H,A)).getChannelData(0).set(l),(e=ol.createBufferSource()).buffer=t,e.connect(ol.destination),e.start()};function ul(l){if(i.clearRect(0,0,n,s),Rt!=Et)switch(Rt){case ht.LD:Et=Rt,Il([]);break;case ht.T:Et=Rt,Il([1,2,3,9]);break;case ht.C:Et=Rt,Il([4]);break;case ht.O:Et=Rt,Il([4,11,12,13,14,15,16,17,18,19,20]);break;case ht.GR:Et=Rt,nt[71].updateSTR(f),nt[69].updateSTR(Ut),nt[73].updateSTR(Ut-Bt),nt[76].updateSTR("x"+bt),Il([10,21]),gt=ut;break;case ht.ER:case ht.R:Et=Rt;break;default:Rt=ht.T}if(gt!=ft)switch(gt){case ut:ft=gt,1==Pt?(F=new oe("01","CLAUD",1,null,2),nt[45].updateSTR("CLAUD")):2==Pt?(F=new oe("02","DAEMON",2,null,3),nt[45].updateSTR("DAEMON")):3==Pt?(F=new oe("03","ARTY",3,null,4),nt[45].updateSTR("ARTY")):(F=new oe("04","SPEED",4,null,5),nt[45].updateSTR("SPEED")),nt[73].updateSTR(Ut-Bt),nt[65].updateSTR(Gt),nt[80].updateSTR("MAX HAND SIZE: "+Lt),Mt=0;break;case at:ft=gt,nt[16].updateSTR("turn "+Yt+" OF 3"),nt[17].updateSTR(Yt);break;case rt:ft=gt;break;case dt:ft=gt,setTimeout((()=>{Il([6,10])}),900),Kt=.8,hl(.75*g,void 0,37,.06,.01,.36,3,1.8,void 0,void 0,void 0,void 0,void 0,.4,63,.4,void 0,.38,.14,.12,-1600),setTimeout((()=>{var t,l=F.makeMove();1==l?M.length<Lt&&(t=al(B),Kl([B,t[0]],M),M[M.length-1].setsP(I[M.length-1]),M[M.length-1].flipCard(!1),M[M.length-1].setSettled(!1),hl(.2*g,.5,362,.07,.01,.17,4,2.3,void 0,void 0,void 0,void 0,.06,.8,void 0,void 0,void 0,0,.01,.01,-2146)):2==l&&(B[0].setsP(k),B[0].setSettled(!1),hl(.2*g,.5,362,.07,.01,.17,4,2.3,void 0,void 0,void 0,void 0,.06,.8,void 0,void 0,void 0,0,.01,.01,-2146),setTimeout((()=>{Kl([B,0],L),hl(.8*g,void 0,81,void 0,.07,.23,3,3,-5,void 0,void 0,void 0,void 0,.1,void 0,.5,void 0,.6,.06,void 0,202)}),700))}),800);break;case Ft:ft=gt,Il([10]),Yt<3?yt=!0:gt=ct;break;case vt:ft=gt,Il(zt?[10,23]:Ut<=Bt?[8]:[10,22]);break;case ct:ft=gt,Il([0]),qt=!(mt=!0),1==(Ht=((t,l)=>{let e,i,n=0,s=0;return 0<t.length&&(t[(e=al(t))[0]].getRank(),n=e[1]),0<l.length&&(l[(i=al(l))[0]].getRank(),s=i[1]),n==s?[0,0]:n>s?(hl(1,void 0,243,.03,.01,.14,1,.2,5,void 0,147,.05,void 0,void 0,void 0,void 0,.02,.66,.04,void 0,-1404),[1,10*n]):(hl(1.9,.01,204,.02,.21,.26,2,2.3,void 0,void 0,void 0,void 0,void 0,.1,void 0,.4,.03,.87,.1),[-1,0])})(U,M))[0]?(Mt=Ht[1],Xt+=Mt,nt[62].updateSTR(Mt),nt[63].updateSTR(Xt),pt.updateSTR(F.getRandomTxt(3))):-1!=Ht[0]&&0!=Ht[0]||pt.updateSTR(F.getRandomTxt(2)),setTimeout((()=>{Nt=!0,hl(void 0,.3*g,138,void 0,.03,.03,3,1.8,-18,void 0,2,.04,void 0,.1,16,void 0,void 0,.62,.03)}),900),setTimeout((()=>{hl(1.2*g,void 0,9,.01,.02,.01,void 0,2,11,void 0,-305,.41,void 0,.5,3.1,void 0,void 0,.54,.01,.11),Il([7,8])}),2e3);break;case wt:ft=gt,Ul(1),gt=at;break;default:Rt=ht.T,gt=wt}if(Rt==ht.LD){var o=Math.ceil(y/r*100);i.fillStyle=_,i.fillRect(0,0,e.width,e.height),Dl(.7),i.fillStyle=G,i.font="normal bold 32px monospace",100<=o?(i.fillText("LOADING... 100%",.07*n,.9*s),kt||(kt=!0,setTimeout((()=>{Rt=ht.T}),1e3))):i.fillText("LOADING... "+o+"%",.07*n,.9*s),Dl(1)}else if(Rt==ht.T){Dl(1),rl(0,0,n,s,"#4F4F7F"),Dl(.15),st[1].r();for(let t=5;t<9;t++)$t.includes(t-4)||(Dl(.4),st[t].r());Dl(.8),d&&d.r(),xl(),rl(.415,.78,.055,.1,"#CCC"),rl(.418,.787,.047,.085,"#F55"),rl(.426,.808,.028,.038,"#FDD"),st[0].r();for(let t=0;t<X.length;t++)null!=X[t]&&X[t].r();Dl(.6),rl(0,0,n,.36,W),rl(0,.91,n,.1,W),Dl(.8),nt[28].r(),nt[29].r(),nt[30].r(),nt[11].r(),Dl(.25),(t?nt[10]:nt[9]).r(),.02<=Kt&&(Kt-=.02),Dl(Kt),rl(0,.91,n,.1,G),vl(.05,.22,1),vl(.15,.22,3),vl(.81,.22,2),vl(.91,.22,0)}else if(Rt==ht.C)Dl(.8),rl(0,0,n,s,"#424"),Dl(.4),st[1].r(),Dl(.8),nt[3].r(),nt[4].r(),nt[5].r(),nt[12].r(),nt[13].r(),nt[14].r(),nt[15].r(),nt[24].r(),xl();else if(Rt==ht.O)Dl(.8),rl(0,0,n,s,K),Dl(.1),st[1].r(),Dl(.8),nt[2].r(),nt[20].r(),nt[21].r(),nt[22].r(),nt[23].r(),xl();else if(Rt==ht.GR){if(i.fillStyle=V,i.fillRect(0,0,w,E),gt!=vt&&gt!=ut){Dl(1),st[1].r(),Dl(.8),Dl(1),Dl(.2),rl(0,.18,n,.64,_),Dl(.5),rl(0,.22,n,.56,K),Dl(1),rl(.1,.24,.8,.52,"#001"),rl(.015,.26,.97,.48,"#001"),rl(.115,.27,.77,.46,W),rl(.115,.49,.77,.01,V),dl(.115,.27,.77,.46,1),rl(.8,.3,.05,.4,V),rl(.805,.32,.04,.36,"#112"),Dl(Bt/Ut*.9),rl(.816,.325,.021,Bt/Ut*.35,J),Dl(1),Dt&&rl(.115,.5,.77,.23,"#66666677"),rl(.03,.3,.1,.4,V),Dl(.2),rl(.022,.38,.118,.24,J),It&&(Dl(.35),rl(.022,.38,.118,.24,J)),Dl(.8),dl(.03,.3,.1,.4,1),Dl(.3),wl(.07,.41,n,s,2.25,tt,[3]),wl(.07,.475,n,s,2.25,tt,[18]),wl(.07,.54,n,s,2.25,tt,[2]),Dl(1),nt[18].r(),nt[70].r(),nt[71].r(),nt[72].r(),nt[73].r(),Dl(.4),nt[76].r(),Dl(1),rl(.87,.3,.1,.4,V),rl(.862,.38,.118,.24,"#6345A050"),Ot&&!c&&rl(.862,.38,.118,.24,"#7755CCDD"),dl(.87,.3,.1,.4,1),rl(.855-R,.414,.095+R,.217+1.2*R,"#00000065"),rl(.2,.85,.6,.2,xt?"#66666677":K),dl(.22,.88,.56,.2,1),rl(.5,0,.4,.15,K),dl(.515,-.018,.37,.15,1),rl(.4,0,.08,.16,"#001"),rl(.407,.016,.065,.13,"#f2d3ab"),.025<=Kt&&(Dl(Kt-=.025),rl(.2,.85,.6,.2,"#33AAEE"),Dl(1)),Dl(.13),nt[16].r(),Dl(.05<=_t?_t-=.05:.13),nt[17].r(),Dl(1),gt==dt&&qt&&nt[66].r(),Vt&&(qt=!1,rl(0,.14,n,.73,"#000000DD"),rl(.022,.38,.118,.24,"#99555580"),rl(.862,.38,.118,.24,"#7755CC88"),nt[51].r(),nt[52].r(),nt[53].r(),nt[54].r(),nt[55].r(),nt[56].r(),nt[57].r(),nt[58].r(),nt[59].r(),nt[67].r(),nt[68].r(),vl(.62,.5,1),vl(.67,.5,3),vl(.72,.5,2),vl(.77,.5,0),Ot)&&rl(.862,.38,.118,.24,"#111111BB"),Dl(1),nt[80].r(),Dl(1),Fl(F.lvl,.407,.016);for(let t=0;t<H.length;t++)null!=H[t]&&H[t].r();for(let t=0;t<U.length;t++)null!=U[t]&&U[t].r();for(let t=0;t<M.length;t++)null!=M[t]&&M[t].r();for(let t=0;t<B.length;t++)null!=B[t]&&B[t].r();for(let t=0;t<b.length;t++)null!=b[t]&&b[t].r();Dl(1),mt&&(rl(0,0,n,s,"#000000CF"),1==Ht[0]?(rl(.33,.51,.33,.07,_),nt[7].r()):-1==Ht[0]?(rl(.32,.51,.36,.07,J),nt[8].r()):0==Ht[0]&&(rl(.35,.51,.27,.07,V),nt[19].r()),nt[6].r()),Nt&&(.01<=(Sl+=Cl)?Cl=-4e-4:Sl<-.01&&(Cl=4e-4),Dl(.4),rl(.485,.065+Sl,.495,.13,J),Dl(1),1==Ht[0]?rl(.49,.08+Sl,.48,.1,"#944"):rl(.49,.08+Sl,.48,.1,_),dl(.49,.08+Sl,.48,.1,0),Dl(.8),i.font="normal bold 22px monospace",i.fillStyle="#FFFFFF",pt.y=.1+Sl,pt.r())}else if(gt==ut){i.fillStyle="#111",i.fillRect(0,0,w,E);for(let t=31;t<34+Pt;t++)nt[t].r();nt[44].r(),nt[45].r(),nt[46].r(),nt[47].r(),nt[69].r(),Fl(F.lvl,.65,.65),Dl(.2),nt[35].r(),nt[36].r(),nt[37].r(),nt[38].r(),nt[39].r(),nt[40].r(),nt[41].r(),nt[42].r(),nt[43].r()}else gt==vt&&(i.fillStyle="#222",i.fillRect(0,0,w,E),!zt&&Ut<=Bt?(i.fillStyle="cc111199",i.fillRect(0,0,w,E),nt[50].r(),nt[79].updateSTR("YOUR SCORE: "+Xt),nt[79].r()):(nt[48].r(),nt[60].r(),nt[61].r(),nt[62].r(),nt[63].r(),nt[64].r(),nt[65].r(),nt[77].r(),rl(.73,.11,.2,.45,"#333344EE"),Fl(F.lvl,.65,.65),zt&&(rl(.73,.11,.2,.45,"#cc444477"),rl(.65,.65,.07,.14,"#cc4444AA"),nt[78].r(),nt[77].r(),st[18].r())));Vt||xl();var h=l;gt==ut?Tt&&(Nl(2*Lt),pt=new he(1,.5,.1,1.5,0,null,F.getRandomTxt(0),null),Tt=!1):gt==at?At&&(setTimeout((()=>{Nt=!0,hl(void 0,.3*g,138,void 0,.03,.03,3,1.8,-18,void 0,2,.04,void 0,.1,16,void 0,void 0,.62,.03)}),500),setTimeout((()=>{Il([5,10])}),1e3),At=!1):gt==rt?(o=b.length+B.length,2*Lt<=o||0==f?setTimeout((()=>{Xl(x,b,1),Xl(O,B,1),Xl(I,M,1),gt=dt}),600):setTimeout((()=>{160<=h-T&&(Ct=Ct?(b.length<Lt&&(Nl(1),Wl(!0)),!1):(B.length<Lt&&(Nl(1),Wl(!1)),!0),T=h)}),300)):gt==dt?(0<Jt?Jt-=.02:(setTimeout((()=>{null==b[0]||kl(b[0].getsP(),b[0].getPos())||(b[0].pos.y-=.02,b[0].setSettled(!1))}),200),setTimeout((()=>{null==b[1]||kl(b[1].getsP(),b[1].getPos())||(b[1].pos.y-=.02,b[1].setSettled(!1))}),400),setTimeout((()=>{null==b[2]||kl(b[2].getsP(),b[2].getPos())||(b[2].pos.y-=.02,b[2].setSettled(!1))}),600),setTimeout((()=>{null==b[3]||kl(b[3].getsP(),b[3].getPos())||(b[3].pos.y-=.02,b[3].setSettled(!1))}),800),setTimeout((()=>{null==b[4]||kl(b[4].getsP(),b[4].getPos())||(b[4].pos.y-=.02,b[4].setSettled(!1))}),1e3),Jt=4),l=Jl(.022,.38,.118,.24),xt=l&&null!=c?Dt=!(It=!0):(It=!1,o=Jl(.115,.5,77,.28),Dt=!(!o||null==c),!(!Jl(.2,.85,.6,.2)||null==c)),Zt=Jl(.862,.38,.118,.24),Ot=!!Zt):gt==Ft&&yt&&(Yt++,nt[16].updateSTR("TURN "+Yt+" OF 3"),nt[17].updateSTR(Yt),_t=1,Yt<=3&&(Ct=b.length<=B.length,pt.updateSTR(F.getRandomTxt(1)),setTimeout((()=>{At=!0,gt=at}),400)),yt=!1)}Dl(1),rl(u/n-.01,a/s-.02,.02,.04,"#22AAFF50"),ll.texImage2D(ll.TEXTURE_2D,0,ll.RGBA,ll.RGBA,ll.UNSIGNED_BYTE,e),ll.drawArrays(ll.TRIANGLE_STRIP,0,4),0<Wt&&(Wt-=.05),requestAnimationFrame(ul)}function al(t){let l=0,e=0,i=0;if(0!=t.length)for(let s=0;s<t.length;s++){var n=t[s].getRank();(i=(t=>{let l=S.indexOf(n),e=D.indexOf(t);return 0!=e&&(e/=10),l+e})(t[s].getSuit()))>l&&(l=i,e=s)}return[e,i]}function rl(t,l,e,o,h){i.fillStyle=h,i.fillRect(t*n,l*s,e*n,o*s)}function dl(t,l,e,o,h){i.beginPath(),0==h?(i.strokeStyle="#212",i.lineWidth=4,i.setLineDash([0,0])):(i.strokeStyle=_,i.lineWidth=5,i.setLineDash([5,5])),i.rect(t*n,l*s,e*n,o*s),i.stroke(),i.setLineDash([])}function Fl(t,l,e){rl(l,e,.065,.13,Y),1==t?(st[2].updatePOS(l,e),st[2].r()):2==t?(st[3].updatePOS(l,e),st[3].r()):3!=t&&4!=t||(st[4].updatePOS(l,e),st[4].r())}function vl(t,l,e){i.drawImage(z[e],n*t,s*l,36,48)}function cl(t){return t=t.toString().toLowerCase(),Array.from(t).map((t=>"a"<=t&&t<="z"?"m"==t?-450:"q"==t?-460:"w"==t?-470:t.charCodeAt(0)-"a".charCodeAt(0):"0"<=t&&t<="9"?26+Number(t):"."==t?36:"!"==t?37:"?"==t?38:"-"==t?39:"|"==t?40:":"==t?41:"_"==t?42:"("==t?43:")"==t?44:"%"==t?-480:-1))}function wl(t,l,e,n,s,o,h){let u=10*s,a=10*s,r=4*s,d=u,F=0;h.forEach((s=>{var h;26<=s?(h=o[s],i.drawImage(h,t*e+F,l*n,u,a),F+=u+r):-1===s?F+=d:(h=s<-400?o[s/10*-1]:o[s],i.drawImage(h,t*e+F,l*n,u,a),F+=u+r)}))}window.onload=function(){var h,u,a;l=document.getElementById("app"),e=document.getElementById("cvs"),i=e.getContext("2d"),n=e.clientWidth,s=e.clientHeight,o=n/s,i.imageSmoothingEnabled=!1,r=fl.length+El.length+gl.length+pl.length+3*Al.length+Rl.length+Tl.length,h=0<navigator.maxTouchPoints,u="ontouchstart"in window,(t=h||u)?(e.style.height=window.innerWidth+"px",e.style.width=window.innerWidth*o+"px",tl.style.height=window.innerWidth+"px",tl.style.width=window.innerWidth*o+"px"):(tl.style.height=E+"px",tl.style.width=w+"px"),e.style.display="none",l.appendChild(tl),(a=tl).addEventListener("pointermove",(t=>{Hl(t,a),Ll()})),a.addEventListener("pointerdown",(t=>{Hl(t,a),Ll(),Ot&&(Vt=!Vt);for(let t=1;t<it.length;t++)it[t].checkClick(!0)&&(St=t);if(null==v){0!=St&&Wt<=0&&(1==St?(Il([]),Rt=ht.GR):2==St?(Il([]),Rt=ht.O):3==St?(Il([]),Rt=ht.C):4==St?(Il([]),Rt=ht.T):5==St?(Il([10]),gt==at?(gt=rt,Nt=!1):gt==rt&&(gt=dt)):6==St?(Il([10]),gt=Ft):7==St?(Gt<Xt&&(zt=!0,Il([23]),hl(2.2*g,void 0,366,.1,.27,void 0,1,1.1,void 0,-25,291,.06,.05,.3,42,.2,.17,.53,.13,.36)),Il([10]),gt=vt,hl(.6*g,0,65.40639,.11,.76,.41,1,.7,void 0,void 0,void 0,void 0,.31,void 0,void 0,void 0,void 0,.55,.05,.42)):8==St?(Il([]),gt=wt,Rt=ht.T):9!=St&&(10==St?(Il([]),Ul(1),gt=wt,Rt=ht.T):11==St?(g=0,Ml(),it[11].updateCOL(J)):12==St?(g=.25,Ml(),it[12].updateCOL(J)):13==St?(g=.5,Ml(),it[13].updateCOL(J)):14==St?(g=.75,Ml(),it[14].updateCOL(J)):15==St?(g=1,Ml(),it[15].updateCOL(J)):21==St?(Il([]),gt=at):22==St?(Ul(0),Il([10,21]),gt=ut):23==St&&(Pt++,Lt<5&&Lt++,Ul(0),Il([10,21]),Bt=1,gt=ut)),hl(1.2*g,void 0,9,.01,.02,.01,void 0,2,11,void 0,-305,.41,void 0,.5,3.1,void 0,void 0,.54,.01,.11),Wt=.5),St=!1;for(let t=1;t<it.length;t++)it[t].checkHover(!1)}if(Rt==ht.GR){for(let t=b.length;0<=t;t--){var l;if(null!=b[t]&&null!=v&&b[t].checkClick(!0))return l=Yl(b,t),c=[b,l],void hl(.2*g,.5,362,.07,.01,.17,4,2.3,void 0,void 0,void 0,void 0,.06,.8,void 0,void 0,void 0,0,.01,.01,-2146)}for(let t=U.length;0<=t;t--){var e;if(null!=U[t]&&null!=v&&U[t].checkClick(!0))return e=Yl(U,t),c=[U,e],void hl(.2*g,.5,362,.07,.01,.17,4,2.3,void 0,void 0,void 0,void 0,.06,.8,void 0,void 0,void 0,0,.01,.01,-2146)}}else if(Rt==ht.T)for(let t=X.length;0<=t;t--)if(null!=X[t]&&null!=v&&X[t].checkClick(!0))return c=X[t],void hl(.2*g,.5,362,.07,.01,.17,4,2.3,void 0,void 0,void 0,void 0,.06,.8,void 0,void 0,void 0,0,.01,.01,-2146)})),a.addEventListener("pointercancel",(t=>{bl(),Pl()})),a.addEventListener("pointerup",(t=>{bl(),Pl()}));try{setTimeout((()=>{Z.canvas.width=32,Z.canvas.height=32,Ol(fl,V,$),Z.canvas.width=5,Z.canvas.height=6,Ol(El,V,z),Z.canvas.width=5,Z.canvas.height=6,Ol(gl,J,z),setTimeout((()=>{Z.canvas.width=3,Z.canvas.height=4,Ol(Al,G,tt),Ol(Al,V,lt),Ol(Al,J,et),Z.canvas.width=9,Z.canvas.height=12,Ol(pl,"#101",Q),Z.canvas.width=12,Z.canvas.height=12,Ol(Rl,J,j),Ol(Rl,V,j),setTimeout((()=>{Z.canvas.width=5,Z.canvas.height=4,Ol(yl,G,tt),Ol(yl,J,et),Ol(yl,V,lt),setTimeout((()=>{Z.canvas.width=9,Z.canvas.height=12;{i.globalAlpha=.8,Z.clearRect(0,0,9,12),Z.fillStyle=V,Z.fillRect(1,0,7,12),Z.fillRect(0,1,9,10),Z.fillStyle=Y,Z.fillRect(1,1,7,10);let t=Z.canvas.toDataURL("image/png"),l=new Image;l.src=t,setTimeout((()=>{for(let e=0;e<=7;e++){if(q[e]=new Image,Z.clearRect(0,0,9,12),Z.drawImage(l,0,0),e<=3)Z.drawImage(z[e],2,3,5,6);else if(4==e)Z.fillStyle=V,Z.fillRect(2,5,3,2),Z.fillStyle=J,Z.fillRect(5,5,2,2);else if(5!=e&&(6==e||7==e)){let t=0;7==e?(t=1,Z.canvas.width=11,Z.canvas.height=14,Z.fillStyle="#112",Z.fillRect(0,0,11,14),Z.fillStyle="#001",Z.fillRect(0,0,1,14),Z.fillRect(0,13,11,1),Z.fillStyle=_,Z.fillRect(1+t,0+t,7,12),Z.fillRect(0+t,1+t,9,10),Z.fillStyle=W):(Z.fillStyle=V,Z.fillRect(1+t,0+t,7,12),Z.fillRect(0+t,1+t,9,10),Z.fillStyle=_),Z.fillRect(2+t,1+t,5,10),Z.fillRect(1+t,3+t,7,6),Z.fillStyle=V,Z.fillRect(2+t,3+t,5,6),Z.drawImage(Q[0],0+t,0+t,9,12)}var t=Z.canvas.toDataURL("image/png");q[e].src=t}}),200),setTimeout((()=>{let t=0,l=!(Z.globalAlpha=.1);Z.canvas.width=418,Z.canvas.height=318;for(let n=0;n<60;n++){l=l?!(t=2.5):!(t=0);for(let l=0;l<40;l++){var e=7*l,i=8*n;Z.drawImage(z[0],e+t,i,5,6)}}var n=Z.canvas.toDataURL("image/png");ot.src=n}),400),Z.globalAlpha=1}setTimeout((()=>{Z.canvas.width=18,Z.canvas.height=18,Ol(Tl,"#223",j),Ol(Tl,"#883333",j),setTimeout((()=>{d=new se("T",{x:.795,y:.6},{x:.795,y:.41},ae(C,0,3),13,-.5,!1);for(let e=0;e<=6;e++){var t={x:ae(C,.1,.75),y:ae(C,-.4,-.9)},l=ae(C,-.8,-1.5);X[e]=new se("A",t,t,ae(C,0,3),null,l,!0)}}),400),it=[null,new he(2,.04,.408,.15,.1,"#2AF","START",null,2e-4),new he(2,.04,.55,.2,.08,K,"OPTIONS",null,0),new he(2,.04,.65,.2,.08,K,"CREDITS",null,0),new he(2,.05,.1,.17,.08,Y,"BACK",null,0),new he(2,.81,.82,.16,.11,"#2AF","CONT",null,3e-4),new he(2,.81,.82,.16,.11,"#2AF","NEXT",null,3e-4),new he(2,.28,.65,.23,.06,"#2AF","CONTINUE",null,2e-4),new he(2,.56,.65,.15,.06,J,"QUIT",null,2e-4),new he(2,.04,.78,.42,.1,Y,"CONNECT WALLET",null,0),new he(2,.01,.94,.1,.1,Y,"...",null,0),new he(2,.2,.36,.12,.1,W,"OFF",null,0),new he(2,.31,.36,.12,.1,W,"25%",null,0),new he(2,.42,.36,.12,.1,W,"50%",null,0),new he(2,.53,.36,.12,.1,W,"75%",null,0),new he(2,.64,.36,.12,.1,J,"100%",null,0),new he(2,.2,.56,.12,.1,J,"OFF",null,0),new he(2,.31,.56,.12,.1,W,"25%",null,0),new he(2,.42,.56,.12,.1,W,"50%",null,0),new he(2,.53,.56,.12,.1,W,"75%",null,0),new he(2,.64,.56,.12,.1,W,"100%",null,0),new he(2,.65,.82,.3,.1,"#2af","START ROUND",null,0),new he(2,.65,.82,.3,.1,"#2af","NEXT ROUND",null,0),new he(2,.3,.85,.34,.1,J,"NEXT OPPONENT",null,0)],nt=[new he(1,.22,.1,3.5,0,null,"JS13K TITLE",null),new he(1,.05,.5,1.5,0,null,"DSC",null),new he(1,.35,.2,3,0,null,"OPTIONS",null),new he(1,.35,.2,3,0,null,"CREDITS",null),new he(1,.2,.35,2,0,null,"A GAME BY ALEX_ADEDGE",null),new he(1,.3,.4,2,0,null,"FOR JS13K 2024",null),new he(1,.33,.44,2,0,null,"END OF ROUND",null),new he(1,.34,.52,2,0,null,"PLAYER WINS",null),new he(1,.33,.52,2,0,null,"PLAYER LOSES",null),new he(1,.77,.83,1.5,0,null,"|BROWSER|",null),new he(1,.77,.83,1.5,0,null,"|MOBILE|",null),new he(1,.06,.925,1,0,null,"NOT CONNECTED",null),new he(1,.31,.54,1.8,0,null,"SPECIAL THANKS:",null),new he(1,.31,.62,1.5,0,null,"FRANK FORCE - ZZFX",null),new he(1,.28,.66,1.5,0,null,"KEITH CLARK - ZZFXM",null),new he(1,.25,.7,1.5,0,null,"CSUBAGIO - SHADER SETUP",null),new he(1,.15,.29,1.5,0,null,"TURN X OF X",null),new he(1,.25,.29,1.5,0,null,"X",null),new he(1,.05,.04,2,0,null,"GAME I",null),new he(1,.4,.52,2,0,null,"DRAW",null),new he(1,.2,.3,2,0,null,"MASTER VOLUME",null),new he(1,.2,.5,2,0,null,"MUSIC",null),new he(1,.06,.75,2,0,null,"...I ran out of bytes for music",null),new he(1,.06,.8,2,0,null,"please byo music ._.",null),new he(1,.25,.8,1.5,0,null,"JS13K HOSTS AND JUDGES!",null),new he(1,.05,.5,2,0,null,"X",null),new he(1,.15,.8,2,0,null,"X",null),new he(1,.07,.12,2,0,null,"CARDS IN DECK:",null),new he(1,.1,.1,4,0,null,"THE ANTI-",null),new he(1,.61,.1,4,0,null,"POKER",null),new he(1,.26,.22,4.3,0,null,"PROTOCOL",null),new he(1,.08,.12,2.5,0,null,"|PRIMARY OBJECTIVE|",null),new he(1,.08,.2,4,0,null,"WIN POKER",null),new he(1,.08,.34,2,0,null,"VIABLE POKER HANDS:",null),new he(1,.08,.4,1.5,0,null,"- HIGH CARD",null),new he(1,.08,.45,1.5,0,null,"- PAIR N|A",null),new he(1,.08,.5,1.5,0,null,"- TWO PAIR N|A",null),new he(1,.08,.55,1.5,0,null,"- THREE OF A KIND N|A",null),new he(1,.08,.6,1.5,0,null,"- STRAIGHT N|A",null),new he(1,.08,.65,1.5,0,null,"- FLUSH N|A",null),new he(1,.08,.7,1.5,0,null,"- FULL HOUSE N|A",null),new he(1,.08,.75,1.5,0,null,"- FOUR OF A KIND N|A",null),new he(1,.08,.8,1.5,0,null,"- STRAIGHT FLUSH N|A",null),new he(1,.08,.85,1.5,0,null,"- ROYAL FLUSH N|A",null),new he(1,.65,.5,2,0,null,"OPPONENT:",null),new he(1,.65,.58,2,0,null,"NAME",null),new he(1,.75,.68,1.5,0,2,"DEFEAT IN",null),new he(1,.78,.74,1.5,0,2," ROUNDS",null),new he(1,.08,.12,2.5,0,null,"|END OF ROUND|",null),new he(1,.08,.2,3,0,null,"UPGRADE - CONTINUE",null),new he(1,.2,.4,5,0,2,"GAME OVER",null),new he(1,.14,.17,3,0,null,"INFO - HOW TO PLAY",null),new he(1,.134,.58,1,0,2,"- DISCARD CARDS HERE",null),new he(1,.27,.64,1,0,2,"- PLAY CARDS TO THE TABLE HERE",null),new he(1,.29,.67,1,0,2,"|THESE CARDS ARE VISIBLE TO ALL|",null),new he(1,.54,.75,1,0,2,"- THIS IS YOUR HAND OF CARDS",null),new he(1,.16,.25,1.5,0,null,"MOVE CARDS FROM YOUR HAND (BELOW)",null),new he(1,.16,.3,1.5,0,null,"TO THE GAME TABLE. YOU MUST TRY",null),new he(1,.16,.35,1.5,0,null,"TO SCORE MORE THAN THE OPPONENT!!",null),new he(1,.16,.4,1.1,0,2,"DEFEAT OPPONENT BEFORE YOU ARE OUT OF ROUNDS!!",null),new he(1,.08,.4,2,0,0,"ROUND SCORE:",null),new he(1,.08,.45,2,0,0,"SCORE TOTAL:",null),new he(1,.43,.4,2,0,0,"0",null),new he(1,.43,.45,2,0,0,"0",null),new he(1,.08,.55,1.5,0,0,"POINTS TO UNLOCK 13 CARD:",null),new he(1,.62,.55,2,0,2,"xxx",null),new he(1,.47,.54,1,0,null,"CLICK DECK TO TOGGLE HELP ----",null),new he(1,.16,.45,1.4,0,null,"RANK ORDER: 2-3-4...10-J-Q-K-A-13",null),new he(1,.16,.5,1.4,0,null,"SUIT ORDER LOW TO HI:",null),new he(1,.75,.74,2.5,0,2,"X",null),new he(1,.05,.1,1.2,0,null,"CARDS IN DECK:",null),new he(1,.3,.09,1.5,0,null,"X",null),new he(1,.05,.14,1.2,0,null,"ROUNDS LEFT:",null),new he(1,.3,.135,1.5,0,null,"X",null),new he(1,.3,.7,1.5,0,1,"GAME COMPLETION:",null),new he(1,.67,.7,1.5,0,1,"0%",null),new he(1,.055,.633,2.5,0,2,"xN",null),new he(1,.75,.13,2.5,0,1,"13",null),new he(1,.08,.25,2.5,0,2,"OPPONENT DEFEATED!",null),new he(1,.25,.52,2.5,0,2,"YOUR SCORE: ",null),new he(1,.15,.67,1.7,0,1,"MAX HAND SIZE: ",null)],st=[new he(0,.423,.795,.07,.07,null,"",j[0],0),new he(0,-.1,-.1,3.2,1.6,null,"",ot,2e-4),new he(0,.407,.018,.116,.13,null,"",$[0],0),new he(0,.407,.018,.116,.13,null,"",$[1],0),new he(0,.407,.018,.116,.13,null,"",$[2],0),new he(0,.27,.47,.2,.2,null,"",j[4],0),new he(0,.39,.47,.2,.2,null,"",j[4],0),new he(0,.51,.47,.2,.2,null,"",j[4],0),new he(0,.63,.47,.2,.2,null,"",j[4],0),new he(0,.27,.47,.2,.2,null,"",j[7],0),new he(0,.39,.47,.2,.2,null,"",j[7],0),new he(0,.51,.47,.2,.2,null,"",j[7],0),new he(0,.63,.47,.2,.2,null,"",j[7],0),new he(0,.293,.52,.12,.12,null,"",j[2],0),new he(0,.413,.52,.12,.12,null,"",j[2],0),new he(0,.533,.52,.12,.12,null,"",j[2],0),new he(0,.653,.52,.12,.12,null,"",j[2],0),null,new he(0,.75,.21,.3,.3,null,"",j[3],0)],ml(),i.clearRect(0,0,e.width,e.height),i.fillStyle="#111",i.fillRect(0,0,e.width,e.height),hl(.5*g,void 0,582,.02,.02,.05,void 0,.5,void 0,void 0,void 0,void 0,void 0,void 0,36,void 0,void 0,.81,.02)}),500)}),200)}),200)}),200)}),200)}catch(h){}ul()};let El=["23,BF,F2,38","73,BF,B2,38"],gl=["6,FF,F7,10","23,BF,F7,10"],fl=["0,0,0,0,0,0,0,0,0,7F,FF,80,0,FF,FF,C0,1,FF,FF,E0,3,EF,FF,F0,3,DB,EF,F8,83,B7,DF,FC,C3,F7,DB,FC,E3,EF,B1,FC,F3,DF,E0,FC,FB,F8,0,3C,FB,F0,0,1C,FB,E0,10,1C,F3,F0,F1,C8,EF,F1,0,8,D3,F0,61,88,A1,E0,61,88,AD,C0,0,8,A4,0,4,8,D0,0,2,8,EC,0,1,8,F4,0,6,8,F4,0,0,10,FA,0,0,20,FD,80,E0,40,FD,C0,0,A0,FB,FF,FF,70,F6,FF,E8,F8,F6,E0,34,FC,F7,30,3A,7E,F7,98,3D,BF","0,0,0,0,0,0,0,0,0,FF,FE,0,1,FF,FF,0,83,DF,FF,80,C7,BF,FF,C0,E7,6F,DF,E0,F7,DF,BF,F0,F7,BF,77,F0,F7,7F,E3,F0,F7,FF,C1,F0,F7,F0,0,F0,F7,E0,0,70,F7,C0,63,20,F7,E1,D7,A0,EF,E0,0,20,D3,FE,DB,60,A1,C2,51,60,AD,80,14,60,A4,3,E5,E0,D0,0,4,20,CC,0,2,20,E4,0,C,20,F4,0,0,20,F2,1,E0,40,F9,0,0,A0,F1,80,1,70,E7,FF,FE,F8,E9,FF,E9,FC,ED,80,35,FE,EE,C0,3A,FF,EF,60,3D,7F","0,0,0,0,0,7F,F8,0,0,FF,FC,0,1,FF,FE,0,3,EF,DB,0,7,DF,B7,80,7,BF,6F,80,7,FF,FF,80,7,EF,EF,80,7,CF,CF,80,87,C0,1,0,CF,C0,1,0,D1,C0,1,0,D6,CF,3D,0,D6,C6,19,0,D2,C0,1,0,D0,C0,21,0,C8,80,21,0,E6,0,60,80,F2,1,0,40,FA,0,F8,40,FA,0,0,40,FA,0,0,40,F9,0,0,40,FD,0,0,40,F9,80,0,80,F3,C0,7F,20,F7,FF,FE,70,E6,7F,FF,38,EC,3F,F9,9C,EF,38,18,DE,ED,90,8,DF"],pl=["0,11,17,44,42,A0,40,70,10,22,2E,88,80,0"],Rl=["1F,83,FC,79,EF,1F,F1,FE,3F,E3,7C,67,C6,77,FE,3F,C1,F8","1F,3,F8,7F,C7,FC,44,44,44,6E,C3,B8,7F,C1,F0,15,0,0"],Tl=["0,0,0,FC,3,F3,F1,FF,FE,7F,FF,8F,FF,C3,FF,F0,FF,FC,3F,FF,F,FF,C3,FF,F0,FF,FC,3F,FF,F,FF,C3,FF,F0,7F,F8,F,FC,1,FE,0","0,0,0,30,0,33,1,FB,7E,7B,F7,8D,FE,C2,FF,D0,FF,FC,3F,FF,F,FF,C3,FF,F0,FF,FC,3F,FF,7,FF,80,FF,C0,1F,E0,3,F0,0,0,0"],yl=["F5,6B,50","E4,AC,F0","8D,6A,F0","91,11,20"],Al=["77,D0","DE,F0","72,30","D6,E0","F3,70","F3,40","72,F0","BE,D0","E9,70","26,B0","BA,D0","92,70","BE,D0","D6,D0","F6,F0","F7,C0","F7,90","F7,50","F1,F0","E9,20","B6,F0","B6,A0","B7,D0","B9,D0","B5,20","EE,70","76,E0","59,20","E7,70","EC,F0","B5,90","F8,F0","9E,F0","E5,20","FE,F0","F7,90","3,60","48,20","E4,20","1C,0","49,20","40,20","0,70","52,20","44,A0"],Cl=-4e-4,Sl=0;function Dl(t){i.globalAlpha=t}function xl(){for(let t=1;t<it.length;t++)it[t].r(),it[t].checkHover(u,a)}function Ol(t,l,e){try{t.forEach(((t,i)=>{{var n=l,s=e,o=new Image,h=(Z.clearRect(0,0,Z.canvas.width,Z.canvas.height),t.split(","));Z.fillStyle=n;let i=0,F=0;for(var u=0;u<h.length;u++)for(var a=h[u],r=("00000000"+parseInt(a,16).toString(2)).substr(-8),d=0;d<r.length;d++)1==r[d]&&Z.fillRect(i,+F,1,1),(i+=1)>=Z.canvas.width&&(F+=1,i=0);y++,o.src=Z.canvas.toDataURL("image/png"),s[s.length]=o}}))}catch(t){}}function ml(){H=[new se(null,{x:N.x,y:N.y},{x:N.x,y:N.y},4),new se(null,{x:N.x+.005,y:N.y-.005},{x:N.x+.005,y:N.y-.005},4),new se(null,{x:N.x+.01,y:N.y-.01},{x:N.x+.01,y:N.y-.01},4),new se(null,{x:N.x+.015,y:N.y-.015},{x:N.x+.015,y:N.y-.015},4)]}function Il(t){for(let t=1;t<it.length;t++)it[t].togActive(!1);for(let l=1;l<it.length;l++)for(let e=0;e<t.length;e++)t[e]===l&&it[l].togActive(!0)}function Nl(t){if(0<f)for(let l=0;l<t;l++)P[l]=new se("A",N,N,ae(C,0,3),ae(C,0,12));else hl(2.1*g,void 0,544,.01,.04,.07,1,2.9,-3,-43,208,.06,void 0,void 0,void 0,void 0,.07,.53,.05)}function kl(t,l){return.02<Math.sqrt(Math.pow(l.x-t.x,2)+Math.pow(l.y-t.y,2))}function Hl(l,e){h=e.getBoundingClientRect();var i=e.width/h.width;e=e.height/h.height,u=(l.clientX-h.left)/i,a=(l.clientY-h.top)/e,t&&(u=(l.clientY-h.top)/(i/2.8),a=(h.width-(l.clientX-h.left))/(e/.9))}function Pl(){for(let t=0;t<b.length;t++)null!=b[t]&&b[t].checkHover(!1);for(let t=0;t<X.length;t++)null!=X[t]&&X[t].checkHover(!1);St=!1;for(let t=1;t<it.length;t++)it[t].checkHover(!1);null!=c&&(hl(.3*g,void 0,105,.03,.01,0,4,2.7,void 0,75,void 0,void 0,void 0,void 0,void 0,void 0,.05,.1,.01,void 0,-1254),c=null)}function Ll(){let t=!1;if(Rt==ht.GR&&gt==dt){for(let l=0;l<b.length;l++)null!=b[l]&&(b[l].checkHover(u,a,n,s)?(t=!0,v=b[l],null==c&&(b[l].isHov=!0)):b[l].isHov=!1);for(let l=0;l<U.length;l++)null!=U[l]&&(U[l].checkHover(u,a,n,s)?(t=!0,v=U[l],null==c&&(U[l].isHov=!0)):U[l].isHov=!1)}if(Rt==ht.T)for(let l=0;l<X.length;l++)null!=X[l]&&(X[l].checkHover(u,a,n,s)?(t=!0,v=X[l],null==c&&(X[l].isHov=!0)):X[l].isHov=!1);0==t&&(v=null);for(let t=1;t<it.length;t++)it[t].checkHover(!0)||it[t].checkHover(!1)}function bl(){for(let t=0;t<b.length;t++)null!=b[t]&&b[t].checkClick(!1);for(let t=0;t<U.length;t++)null!=U[t]&&U[t].checkClick(!1);for(let t=0;t<X.length;t++)null!=X[t]&&X[t].checkClick(!1);if(null!=c){hl(.3*g,void 0,105,.03,.01,0,4,2.7,void 0,75,void 0,void 0,void 0,void 0,void 0,void 0,.05,.1,.01,void 0,-1254);for(let t=jt=Qt=0;t<U.length;t++)null!=U[t]&&jt++;for(let t=0;t<b.length;t++)null!=b[t]&&Qt++;gt==dt&&(Dt?jt<Lt?(Kl(c,U),Xl(m,U,0),c=null):Bl():xt?Qt<Lt?(Kl(c,b),Xl(x,b,1),c=null):Bl():It&&(hl(.8*g,void 0,81,void 0,.07,.23,3,3,-5,void 0,void 0,void 0,void 0,.1,void 0,.5,void 0,.6,.06,void 0,202),0<bt?(bt--,nt[76].updateSTR("x"+bt),Kl(c,L)):Bl(),c=null)),c=null}}function Bl(){hl(.9*g,void 0,480,.03,.13,.15,void 0,3.6,8,-6,void 0,void 0,.02,void 0,void 0,void 0,void 0,.94,.16,.15),c[0][c[1]].setSettled(!1)}function Ul(t){Ct=!(qt=!(At=Tt=!(Nt=mt=!1))),Yt=1,nt[16].updateSTR("turn "+Yt+" OF 3"),nt[17].updateSTR(Yt),Ht[0]=!1,Ht[1]=0,f=52,R=p=0,ml(),c=null,b=[],B=[],U=[],M=[],P=[],L=[],Gt=(Mt=0)==t?(Bt++,200*Pt):(Lt=2,Ut=4,Pt=Bt=1,qt=!(Xt=0),200),nt[73].updateSTR(Ut-Bt),nt[65].updateSTR(Gt),bt=1==Pt?5:2==Pt?4:3==Pt?3:2,nt[76].updateSTR("x"+bt),nt[18].updateSTR("GAME "+Pt),nt[62].updateSTR(Mt),nt[63].updateSTR(Xt),zt=!1}function Ml(){it[11].updateCOL(W),it[12].updateCOL(W),it[13].updateCOL(W),it[14].updateCOL(W),it[15].updateCOL(W)}function Xl(t,l,e){for(let i=0;i<l.length;i++)l[i].setsP(t[i]),e&&l[i].setSettled(!1)}function Gl(t,l,e){var i=l.length-1;l[i].setsP(t[i]),e&&l[i].setSettled(!1)}function Yl(t,l){return l=t.splice(l,1)[0],t.push(l),t.length-1}function Kl(t,l){var e=t[0];e[t=t[1]].resetOnDrop(),l.push(e[t]),-1!==t&&e.splice(t,1)}function _l(){var t;A<=++p&&(p=0,R-=.008,t=H.length-1,H.splice(t,1))}function Wl(t){t?0<P.length&&(b.push(P[P.length-1]),Gl(x,b,1),P.splice(P.length-1,1),f--,nt[71].updateSTR(f),hl(.6*g,void 0,105,.03,.01,0,4,2.7,void 0,75,void 0,void 0,void 0,void 0,void 0,void 0,.05,.1,.01,void 0,-1254),_l()):0<P.length&&(B.push(P[P.length-1]),B[B.length-1].flipCard(!0),Gl(O,B,1),P.splice(P.length-1,1),f--,nt[71].updateSTR(f),hl(.6*g,void 0,105,.03,.01,0,4,2.7,void 0,75,void 0,void 0,void 0,void 0,void 0,void 0,.05,.1,.01,void 0,-1254),_l())}function Jl(t,l,e,i){return n*t<=u&&u<=n*t+n*e&&s*l<=a&&a<=s*l+s*i}let Vl=["ill give it a shot","im just a beginner","lets play the basics!","can you beat me?"],Zl=["i got this","lets see how this goes","hmmmmm..."],ql=["yes i won!","did I win ??","very good"],Ql=["oh i lost","thats understandable","ahh defeat again"],jl=["lets get to it!","you cant beat me!","the round begins...","this will test you..."],zl=["you cant win this","cant stop me","feeling lucky?","my win your loss"],$l=["you cant win them all","winning","told you im best"],te=["dang it","I lost ?!","I quit this club","i will never recover"],le=["hello there!"],ee=["cant stop wont stop","a gem of a game"],ie=["another victory!"],ne=["I guess Im out"];class se{constructor(t,l,e,i,n,o,h){this.cdID=t,this.flt=h,this.pos={x:l.x,y:l.y},this.sP={x:e.x,y:e.y},null!=i&&(this.suit=i<4?D[i]:"DCK"),n<9&&(this.rank=n+2),9==n&&(this.rank="J"),10==n&&(this.rank="Q"),11==n&&(this.rank="K"),12==n&&(this.rank="A"),13==n&&(this.rank="13"),this.flt?this.s=.8:this.s=1,this.flp=!1,"B"==this.cdID&&(this.flp=!0),"T"==this.cdID&&(this.s=2),this.image=new Image,this.hld=new Image,this.rk=null!=n?cl(this.rank):null,this.setIMG(),this.hld=q[5],this.isHov=!1,this.isHld=!1,this.isSet=!1,this.eps=.02,this.sX=s/10,this.shr=!0,this.spd=(o-this.pos.x)/1.8,this.cspd=(o-this.pos.x)/8,this.posi=0,this.inv=!1}r(){var t=this.image;if(this.isSet||this.checkPos(),0!=this.sX&&this.flt?(this.sX+=this.spd,this.posi+=this.spd/2e3,this.sX<=.3?(this.inv?this.setIMG():this.image=q[6],this.inv=!this.inv,this.spd=-this.spd):this.sX>s/10+.1&&(this.spd=-this.spd)):this.sX=s/10,this.isHld?(i.fillStyle="#00000035",i.fillRect(n*(this.pos.x-this.posi)-12,s*this.pos.y+11,this.sX*this.s*1.4,n/9*this.s)):(i.fillStyle="#00000025",i.fillRect(n*(this.pos.x-this.posi)-7,s*this.pos.y+7,this.sX*this.s*1.3,n/11*this.s)),this.flp?(i.save(),i.scale(1,-1),i.translate(0,-i.canvas.height),i.drawImage(t,n*this.pos.x,s-this.pos.y*s-n/10,s/10*this.s,n/12*this.s),i.restore()):"DCK"==this.suit?i.drawImage(t,n*this.pos.x-6,s*this.pos.y-12,s/6.5*this.s,n/9.5*this.s):this.isHld?i.drawImage(t,n*(this.pos.x-this.posi),s*this.pos.y,this.sX*this.s/.7,n/9*this.s):i.drawImage(t,n*(this.pos.x-this.posi),s*this.pos.y,this.sX*this.s/.8,n/10*this.s),this.isHov&&!this.isHld&&(i.fillStyle="#3333FF50",i.fillRect(n*(this.pos.x-this.posi),s*this.pos.y,this.sX*this.s/.8,n/10*this.s)),i.globalAlpha=1,this.flt&&!this.isHld&&(this.pos.y+=this.cspd/100,this.pos.y<-.5)&&(this.pos.y=ae(C,1,1.2),this.pos.x=ae(C,0,.75)),"DCK"!=this.suit&&null!=this.rk&&1!=this.flp){let t=0;this.isHld&&(t=.004),"DMD"==this.suit||"HRT"==this.suit?wl(this.pos.x+(t+.01*this.s),this.pos.y+(t+.019*this.s),n,s,this.s/.9,et,this.rk):wl(this.pos.x+(t+.01*this.s),this.pos.y+(t+.019*this.s),n,s,this.s/.9,lt,this.rk)}}checkPos(){let t={x:this.pos.x,y:this.pos.y},l={x:this.sP.x,y:this.sP.y},e=!1,i=!1;Math.abs(t.x-l.x)>this.eps?this.pos.x=ue(t.x,l.x,.1):e=!0,Math.abs(t.y-l.y)>this.eps?this.pos.y=ue(t.y,l.y,.1):i=!0,e&&i&&(this.isSet=!0)}checkHover(t,l){var e=s/9,i=n/9;return this.isHld&&(this.isSet=!0,this.pos.x=t/n-e/n/2,this.pos.y=l/s-i/s/2),t>=n*this.pos.x&&t<=n*this.pos.x+e&&l>=s*this.pos.y&&l<=s*this.pos.y+i}checkClick(t){return t?this.isHov?(this.isSet=!0,this.isHld=!0):void 0:(this.isHld=!1,this.isSet=!0,this.isHov=!1)}resetOnDrop(){this.isHld=!1,this.isHov=!1}setIMG(){"SPD"==this.suit?this.image=q[0]:"HRT"==this.suit?this.image=q[2]:"DMD"==this.suit?this.image=q[3]:"CLB"==this.suit?this.image=q[1]:"DCK"==this.suit?this.image=q[7]:this.image=q[4],this.flp&&(this.image=q[6])}flipCard(t){this.flp=t,this.setIMG()}setsP(t){this.sP.x=t.x,this.sP.y=t.y}setPos(t){this.pos.x=t.x,this.pos.y=t.y}setSettled(t){this.isSet=t}printCard(){}getRank(){return null==this.rank?"??":this.rank}getSuit(){return"BCK"==this.suit?"??":this.suit}getPos(){return this.pos}getsP(){return this.sP}}class oe{constructor(t,l,e,i,n){this.id=t,this.name=l,this.lvl=e,this.dial=i,this.hand=n,this.handMake=0}getRandomTxt(t){let l;return 1==this.lvl?0==t?l=Vl:1==t?l=Zl:2==t?l=ql:3==t&&(l=Ql):2==this.lvl?0==t?l=le:1==t?l=ee:2==t?l=ie:3==t&&(l=ne):3!=this.lvl&&4!=this.lvl||(0==t?l=jl:1==t?l=zl:2==t?l=$l:3==t&&(l=te)),l[t=ae(C,0,l.length-1)]}makeMove(){let t=0;return t=3==Yt?1:1==this.lvl?ae(C,0,4):2==this.lvl?ae(C,0,3):ae(C,0,2),t}getID(){return this.id}getName(){return this.name}getLvl(){return this.lvl}getHand(){return this.hand}}class he{constructor(t,l,e,i,n,s,o,h,u){this.ix=t,this.x=l,this.y=e,this.dx=i,this.dy=n,this.c=s,this.str=o,this.img=h,this.w=u,this.incX=u,this.incY=u,this.wx=0,this.wy=0,this.isAc=!1,this.isHov=!1,this.clk=!1,this.pld=!1,null!=o&&(this.conv=cl(this.str)),2!=this.ix&&(this.isAc=!0)}r(){if(this.isAc)if(0!=this.w&&this.wobbleXY(),0==this.ix)i.drawImage(this.img,n*(this.x+this.wx),s*(this.y+this.wy),s*this.dx,s*this.dy);else if(1==this.ix){let t=tt;1==this.c&&(t=lt),2==this.c&&(t=et),wl(this.x,this.y,n,s,this.dx,t,this.conv)}else 2==this.ix&&(this.isHov?(this.clk?(i.globalAlpha=.8,rl(this.x,this.y+this.wy,this.dx,this.dy,"#FFF")):(i.globalAlpha=.4,rl(this.x,this.y+this.wy,this.dx,this.dy,"#AAA")),i.globalAlpha=.5):i.globalAlpha=.3,rl(this.x,this.y+this.wy,this.dx,this.dy,this.c),i.globalAlpha=1,wl(this.x+.02,this.y+this.wy+.01,n,s,1.6,tt,this.conv),i.globalAlpha=.8)}wobbleXY(){this.wx+=this.incX,(.03<=this.wx||this.wx<=-.03)&&(this.incX=-this.incX),this.wy+=this.incY,(.02<=this.wy||this.wy<=-.02)&&(this.incY=-this.incY)}checkHover(t){if(t){if(this.isAc&&u>=n*this.x&&u<=n*this.x+n*this.dx&&a>=s*this.y&&a<=s*this.y+s*this.dy)return this.isHov=!0,this.pld||(this.pld=!0,hl(3*g,void 0,194,void 0,.04,.02,void 0,3,-7,void 0,-50,.39,void 0,void 0,void 0,void 0,void 0,.51,.02,.03,930)),!0}else this.isHov=!1,this.clk=!1,this.pld=!1;return!1}checkClick(t){return t?this.isHov?this.clk=!0:void 0:this.clk=!1}togActive(t){(this.isAc=t)||(this.isHov=!1,this.clk=!1)}updateSTR(t){this.str=t.toString(),this.conv=cl(this.str)}updateCOL(t){this.c=t}updatePOS(t,l){this.x=t,this.y=l}}function ue(t,l,e){return t+(l-t)*e}function ae(t,l,e){return l+(i=t[0],t[0]=(i<<26|i>>8)^(n=t[1]^i)^n<<9,t[1]=n<<13|n>>19,(Math.imul(i,2654435771)>>>0)%(e-l+1));var i,n}})();